## 1、什么是nginx？nginx的优点有哪些？
答：
Nginx是一款轻量级的 Web服务器 / 反向代理服务器 / 电子邮件（IMAP/POP3）代理服务器，主要的优点是：  
支持高并发连接，尤其是静态界面，官方测试Nginx能够支撑5万并发连接  
内存占用极低  
配置简单，使用灵活，可以基于自身需要增强其功能，同时支持自定义模块的开发  
使用灵活：可以根据需要，配置不同的负载均衡模式，URL地址重写等功能  
稳定性高，在进行反向代理时，宕机的概率很低  
支持热部署，应用启动重载非常迅速  

## 2、nginx能做什么？
答：
- 网关 （面向客户的总入口）
网关可以拦截客户端所有请求，对该请求进行权限控制、负载均衡、日志管理、接口调用监控等，因此无论使用什么架构体系，都可以使用Nginx作为最外层的网关。  

- 虚拟主机（为不同域名 / ip / 端口提供服务。如：VPS虚拟服务器）


- 路由（正向代理 / 反向代理）
正向代理  

代理客户;  
隐藏真实的客户，为客户端收发请求，使真实客户端对服务器不可见;  
一个局域网内的所有用户可能被一台服务器做了正向代理，由该台服务器负责 HTTP 请求;  
意味着同服务器做通信的是正向代理服务器;  

反向代理  

代理服务器;  
隐藏了真实的服务器，为服务器收发请求，使真实服务器对客户端不可见;  
负载均衡服务器，将用户的请求分发到空闲的服务器上;  
意味着用户和负载均衡服务器直接通信，即用户解析服务器域名时得到的是负载均衡服务器的 IP ;  

- 静态服务器

- 负载集群（提供负载均衡）
轮询、指定权重、IP Hash、fair、url_hash


## 3、nginx如何解决惊群现象？
答：
惊群效应（thundering herd）是指多进程（多线程）在同时阻塞等待同一个事件的时候（休眠状态），如果等待的这个事件发生，那么他就会唤醒等待的所有进程
（或者线程），但是最终却只能有一个进程（线程）获得这个时间的“控制权”，对该事件进行处理，而其他进程（线程）获取“控制权”失败，只能重新进入休眠状态，
这种现象和性能浪费就叫做惊群效应。  
上文中介绍了Nginx的多进程模型，而典型的多进程模型正如文中所说，多个worker进程之间是对等的，因此当一个请求到来的时候，所有进程会同时开始竞争，
最终执行的又只有一个，这样势必会造成资源的浪费。
Nginx解决该问题的思路是：不让多个进程在同一时间监听接受连接的socket，而是让每个进程轮流监听，这样当有连接过来的时候，
就只有一个进程在监听那肯定就没有惊群的问题。
具体做法是：利用一把进程间锁，每个进程中都尝试获得这把锁，如果获取成功将监听socket加入wait集合中，并设置超时等待连接到来，
没有获得锁的进程则将监听socket从wait集合去除。


## 4、nginx如何解决CORS跨域问题？
答：
两个思路
- 基于多路由，把跨域的两个请求发到各自的服务器，然后统一访问入口即可避免该问题
- 利用Nginx配置Headerd的功能，为其附上相应的请求头


